# é˜²çˆ¬è™«ä¿æŠ¤ç³»ç»Ÿè¯´æ˜
# Anti-Crawler Protection System Documentation

## ğŸ›¡ï¸ ç³»ç»Ÿæ¦‚è¿° (System Overview)

è¿™æ˜¯ä¸€ä¸ªå…¨é¢çš„é˜²çˆ¬è™«ä¿æŠ¤ç³»ç»Ÿï¼Œæ—¨åœ¨ä¿æŠ¤ä½ çš„2048æ¸¸æˆç½‘ç«™å…å—æ¶æ„çˆ¬è™«ã€è‡ªåŠ¨åŒ–å·¥å…·å’Œæ¶æ„è®¿é—®çš„ä¾µå®³ã€‚

This is a comprehensive anti-crawler protection system designed to protect your 2048 game website from malicious crawlers, automation tools, and malicious access.

## ğŸš€ ä¸»è¦åŠŸèƒ½ (Main Features)

### 1. å¤šå±‚ä¿æŠ¤ (Multi-Layer Protection)
- **å®¢æˆ·ç«¯ä¿æŠ¤** - JavaScriptæ£€æµ‹å’Œé˜»æ­¢
- **æœåŠ¡å™¨ç«¯ä¿æŠ¤** - Apache .htaccessè§„åˆ™
- **HTTPå¤´éƒ¨ä¿æŠ¤** - å®‰å…¨ç­–ç•¥å’Œé™åˆ¶
- **è¡Œä¸ºç›‘æ§** - ç”¨æˆ·è¡Œä¸ºæ¨¡å¼åˆ†æ

### 2. æ™ºèƒ½æ£€æµ‹ (Intelligent Detection)
- **ç”¨æˆ·ä»£ç†æ£€æµ‹** - è¯†åˆ«å¸¸è§çˆ¬è™«å·¥å…·
- **è¡Œä¸ºæ¨¡å¼åˆ†æ** - ç›‘æ§é¼ æ ‡ç§»åŠ¨ã€é”®ç›˜è¾“å…¥ç­‰
- **è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹** - æ£€æµ‹Seleniumã€PhantomJSç­‰
- **å¼€å‘è€…å·¥å…·æ£€æµ‹** - æ£€æµ‹F12ã€å³é”®èœå•ç­‰

### 3. èœœç½é™·é˜± (Honeypot Traps)
- **éšè—é“¾æ¥** - ç®¡ç†å‘˜é¢æ¿ã€APIç«¯ç‚¹ç­‰
- **éšè—è¡¨å•** - è‡ªåŠ¨å¡«å……æ£€æµ‹
- **è™šå‡å†…å®¹** - è¯¯å¯¼çˆ¬è™«

### 4. è®¿é—®æ§åˆ¶ (Access Control)
- **é¢‘ç‡é™åˆ¶** - è¯·æ±‚é¢‘ç‡æ§åˆ¶
- **IPå°ç¦** - è‡ªåŠ¨å°ç¦æ¶æ„IP
- **ä¼šè¯ç›‘æ§** - ç”¨æˆ·ä¼šè¯è¡Œä¸ºåˆ†æ

## ğŸ“ æ–‡ä»¶ç»“æ„ (File Structure)

```
2468-game-online/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢ï¼ˆåŒ…å«åŸºç¡€é˜²çˆ¬è™«ä¿æŠ¤ï¼‰
â”œâ”€â”€ anti-crawler.js         # é«˜çº§é˜²çˆ¬è™«ä¿æŠ¤ç³»ç»Ÿ
â”œâ”€â”€ .htaccess               # æœåŠ¡å™¨ç«¯ä¿æŠ¤è§„åˆ™
â”œâ”€â”€ robots.txt              # çˆ¬è™«è®¿é—®æ§åˆ¶
â””â”€â”€ ANTI-CRAWLER-README.md  # æœ¬æ–‡æ¡£
```

## âš™ï¸ é…ç½®è¯´æ˜ (Configuration)

### åŸºç¡€ä¿æŠ¤ (Basic Protection)
åœ¨ `index.html` ä¸­å·²ç»é›†æˆäº†åŸºç¡€çš„é˜²çˆ¬è™«ä¿æŠ¤ï¼š
- ç”¨æˆ·ä»£ç†æ£€æµ‹
- è¡Œä¸ºç›‘æ§
- èœœç½é™·é˜±
- å¼€å‘è€…å·¥å…·æ£€æµ‹

### é«˜çº§ä¿æŠ¤ (Advanced Protection)
`anti-crawler.js` æä¾›äº†æ›´é«˜çº§çš„ä¿æŠ¤åŠŸèƒ½ï¼š
- å¯é…ç½®çš„æ£€æµ‹è§„åˆ™
- è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯
- çµæ´»çš„é˜»æ­¢ç­–ç•¥
- æ¨¡å—åŒ–è®¾è®¡

### æœåŠ¡å™¨ä¿æŠ¤ (Server Protection)
`.htaccess` æ–‡ä»¶åŒ…å«æœåŠ¡å™¨ç«¯çš„ä¿æŠ¤è§„åˆ™ï¼š
- ç”¨æˆ·ä»£ç†è¿‡æ»¤
- è¯·æ±‚é¢‘ç‡é™åˆ¶
- å®‰å…¨å¤´éƒ¨è®¾ç½®
- æ•æ„Ÿæ–‡ä»¶ä¿æŠ¤

## ğŸ”§ ä½¿ç”¨æ–¹æ³• (Usage)

### 1. è‡ªåŠ¨å¯ç”¨ (Auto-Enable)
ç³»ç»Ÿä¼šåœ¨é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨å¯ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### 2. æ‰‹åŠ¨é…ç½® (Manual Configuration)
å¦‚æœéœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥ä¿®æ”¹ `anti-crawler.js` ä¸­çš„é…ç½®å¯¹è±¡ï¼š

```javascript
const config = {
    enabled: true,           // å¯ç”¨ä¿æŠ¤
    strictMode: true,        // ä¸¥æ ¼æ¨¡å¼
    rateLimit: {
        requests: 100,       // æ¯å°æ—¶è¯·æ±‚é™åˆ¶
        timeWindow: 3600000, // æ—¶é—´çª—å£ï¼ˆæ¯«ç§’ï¼‰
        blockDuration: 86400000 // å°ç¦æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰
    },
    detection: {
        userAgent: true,     // ç”¨æˆ·ä»£ç†æ£€æµ‹
        behavior: true,      // è¡Œä¸ºæ£€æµ‹
        automation: true,    // è‡ªåŠ¨åŒ–æ£€æµ‹
        devTools: true,      // å¼€å‘è€…å·¥å…·æ£€æµ‹
        iframe: true,        // iframeæ£€æµ‹
        honeypot: true      // èœœç½æ£€æµ‹
    }
};
```

### 3. ç›‘æ§å’Œæ—¥å¿— (Monitoring & Logging)
ç³»ç»Ÿä¼šåœ¨æ§åˆ¶å°è¾“å‡ºä¿æŠ¤çŠ¶æ€å’Œæ£€æµ‹ç»“æœï¼š

```javascript
// æŸ¥çœ‹ä¿æŠ¤çŠ¶æ€
console.log(window.antiCrawler.stats);

// æŸ¥çœ‹é…ç½®
console.log(window.antiCrawler.config);
```

## ğŸš¨ æ£€æµ‹è§„åˆ™ (Detection Rules)

### ç”¨æˆ·ä»£ç†æ£€æµ‹ (User Agent Detection)
- `bot`, `crawler`, `spider`, `scraper`
- `curl`, `wget`, `python`, `requests`
- `selenium`, `phantomjs`, `headless`
- `automation`, `webdriver`

### è¡Œä¸ºæ£€æµ‹ (Behavior Detection)
- é¼ æ ‡ç§»åŠ¨é¢‘ç‡
- é”®ç›˜è¾“å…¥æ¨¡å¼
- æ»šåŠ¨è¡Œä¸º
- è§¦æ‘¸äº‹ä»¶
- é¡µé¢äº¤äº’æ—¶é—´

### ç¯å¢ƒæ£€æµ‹ (Environment Detection)
- å±å¹•åˆ†è¾¨ç‡
- è§†å£å¤§å°
- æµè§ˆå™¨ç‰¹æ€§
- è‡ªåŠ¨åŒ–æ ‡å¿—

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½® (Customization)

### 1. ä¿®æ”¹æ£€æµ‹è§„åˆ™
```javascript
// åœ¨ anti-crawler.js ä¸­ä¿®æ”¹
this.suspiciousPatterns = [
    'your-custom-pattern',
    'another-pattern'
];
```

### 2. è°ƒæ•´é¢‘ç‡é™åˆ¶
```javascript
this.config.rateLimit = {
    requests: 200,           // å¢åŠ è¯·æ±‚é™åˆ¶
    timeWindow: 1800000,    // ç¼©çŸ­æ—¶é—´çª—å£åˆ°30åˆ†é’Ÿ
    blockDuration: 3600000   // ç¼©çŸ­å°ç¦æ—¶é•¿åˆ°1å°æ—¶
};
```

### 3. è‡ªå®šä¹‰èœœç½å†…å®¹
```javascript
// æ·»åŠ è‡ªå®šä¹‰èœœç½é“¾æ¥
const customHoneypots = [
    '/your-admin', '/your-api', '/your-secret'
];
```

## ğŸ“Š æ€§èƒ½å½±å“ (Performance Impact)

### å†…å­˜ä½¿ç”¨ (Memory Usage)
- åŸºç¡€ä¿æŠ¤ï¼šçº¦ 50-100KB
- é«˜çº§ä¿æŠ¤ï¼šçº¦ 100-200KB
- æ€»è®¡ï¼šçº¦ 150-300KB

### CPUä½¿ç”¨ (CPU Usage)
- æ­£å¸¸ä½¿ç”¨ï¼š< 1%
- æ£€æµ‹æ¨¡å¼ï¼š1-5%
- é˜»æ­¢æ¨¡å¼ï¼š5-10%

### ç½‘ç»œå½±å“ (Network Impact)
- æ— é¢å¤–ç½‘ç»œè¯·æ±‚
- ä¸å½±å“æ¸¸æˆæ€§èƒ½
- ä¸å½±å“ç”¨æˆ·ä½“éªŒ

## ğŸ”’ å®‰å…¨ç‰¹æ€§ (Security Features)

### 1. åè°ƒè¯• (Anti-Debug)
- æ£€æµ‹å¼€å‘è€…å·¥å…·
- æ£€æµ‹æ§åˆ¶å°è®¿é—®
- æ£€æµ‹æ–­ç‚¹è®¾ç½®

### 2. ä»£ç ä¿æŠ¤ (Code Protection)
- å¯¹è±¡å†»ç»“
- å±æ€§ä¿æŠ¤
- æ–¹æ³•éšè—

### 3. ç¯å¢ƒæ£€æµ‹ (Environment Detection)
- è™šæ‹Ÿæœºæ£€æµ‹
- æ²™ç®±æ£€æµ‹
- ä»£ç†æ£€æµ‹

## âš ï¸ æ³¨æ„äº‹é¡¹ (Important Notes)

### 1. è¯¯æŠ¥å¤„ç† (False Positive Handling)
- ç³»ç»Ÿå¯èƒ½ä¼šè¯¯åˆ¤æŸäº›æ­£å¸¸ç”¨æˆ·
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­å……åˆ†æµ‹è¯•
- å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æ£€æµ‹é˜ˆå€¼

### 2. å…¼å®¹æ€§ (Compatibility)
- æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
- æ”¯æŒç§»åŠ¨è®¾å¤‡
- æ”¯æŒè§¦æ‘¸æ“ä½œ

### 3. ç»´æŠ¤ (Maintenance)
- å®šæœŸæ›´æ–°æ£€æµ‹è§„åˆ™
- ç›‘æ§è¯¯æŠ¥æƒ…å†µ
- æ ¹æ®æ–°å¨èƒè°ƒæ•´ç­–ç•¥

## ğŸ†˜ æ•…éšœæ’é™¤ (Troubleshooting)

### 1. ä¿æŠ¤ç³»ç»Ÿä¸å·¥ä½œ
- æ£€æŸ¥JavaScriptæ˜¯å¦å¯ç”¨
- æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®

### 2. è¯¯æŠ¥è¿‡å¤š
- é™ä½æ£€æµ‹æ•æ„Ÿåº¦
- è°ƒæ•´è¡Œä¸ºæ£€æµ‹é˜ˆå€¼
- æ£€æŸ¥ç”¨æˆ·è¡Œä¸ºæ¨¡å¼

### 3. æ€§èƒ½é—®é¢˜
- å‡å°‘æ£€æµ‹é¢‘ç‡
- ç®€åŒ–æ£€æµ‹è§„åˆ™
- ä¼˜åŒ–ä»£ç ç»“æ„

## ğŸ“ˆ æœªæ¥æ”¹è¿› (Future Improvements)

### 1. æœºå™¨å­¦ä¹ é›†æˆ
- ç”¨æˆ·è¡Œä¸ºæ¨¡å¼å­¦ä¹ 
- è‡ªé€‚åº”æ£€æµ‹é˜ˆå€¼
- æ™ºèƒ½å¨èƒè¯†åˆ«

### 2. äº‘ç«¯ä¿æŠ¤
- å®æ—¶å¨èƒæƒ…æŠ¥
- åˆ†å¸ƒå¼é˜²æŠ¤
- ååŒé˜²å¾¡

### 3. æ›´å¤šæ£€æµ‹æ–¹æ³•
- æŒ‡çº¹è¯†åˆ«
- ç½‘ç»œè¡Œä¸ºåˆ†æ
- æ—¶é—´æ¨¡å¼åˆ†æ

## ğŸ“ æŠ€æœ¯æ”¯æŒ (Technical Support)

å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
2. æŸ¥çœ‹é˜²çˆ¬è™«ç³»ç»Ÿçš„æ—¥å¿—è¾“å‡º
3. è°ƒæ•´é…ç½®å‚æ•°
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

**æ³¨æ„**: è¿™ä¸ªé˜²çˆ¬è™«ç³»ç»Ÿæ˜¯ä¸ºäº†ä¿æŠ¤ä½ çš„ç½‘ç«™å®‰å…¨è€Œè®¾è®¡çš„ã€‚è¯·ç¡®ä¿åœ¨åˆæ³•å’Œåˆç†çš„èŒƒå›´å†…ä½¿ç”¨ï¼Œé¿å…å½±å“æ­£å¸¸ç”¨æˆ·çš„è®¿é—®ä½“éªŒã€‚

**Note**: This anti-crawler system is designed to protect your website security. Please ensure it's used within legal and reasonable bounds, avoiding impact on normal user access experience. 